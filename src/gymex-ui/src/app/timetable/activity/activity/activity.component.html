<div class="card mb-3" [style]="alreadyHappened ? 'background-color: lightgrey;' : ''">
  <div class="row g-0">
    <div class="col-md-8">
      <div class="card-body">
        <h5 class="card-title">{{ activity.definition.name }}</h5>
        <span><strong>Data</strong></span> <br/>
        <span>{{ activity.startTime | date: 'dd.MM.yyyy HH:mm'}} - {{ activity.endTime | date: 'HH:mm'}}</span><br/>
        <span><strong>Opis</strong>: {{ activity.definition.description }}</span><br/>
        <span><strong>Poziom trudności</strong>: {{ activity.definition.level | levelPipe}}</span><br/>
        <span><strong>Trener</strong>: {{ activity.trainer.firstName + ' ' + activity.trainer.lastName}}</span><br/>
        <span><strong>Wolne miejsca</strong>: {{ activity.capacity - activity.participants.length }}</span><br/><br/>
        <div class="container" *ngIf="userService.isOwnerOrEmployee()">
          <h6 class="card-title">Panel sterowania</h6>
          <a class="btn btn-primary" routerLink="/timetable/activity/{{ gymId }}/{{ activity.id }}">Edytuj</a>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card-body">
        <h5 class="card-title">Dostępne akcje</h5>
        <div class="container" *ngIf="!alreadyHappened">
          <div *ngIf="canPersonJoinActivity()">
            <button class="btn btn-success"
                    (click)="joinActivity()">Zapisz się
            </button>
          </div>
          <div *ngIf="canPersonResignFromActivity()">
            <button class="btn btn-danger"
                    (click)="resignFromActivity()">Wypisz się
            </button>
          </div>
        </div>
        <div class="container" *ngIf="userService.isOwnerOrEmployee()">
          <div><a class="btn btn-primary" routerLink="/timetable/activity/{{this.gymId}}/{{this.activity.id}}/attendance">Panel potwierdzania obecności</a></div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="alreadyHappened" class="text-center">Zajęcia już się odbyły</div>
  <div *ngIf="canPersonResignFromActivity()" class="text-center">Jesteś zapisany na te zajęcia!</div>
</div>
